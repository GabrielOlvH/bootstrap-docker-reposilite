{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "DOCKERFILE",
    "dockerfilePath": "Dockerfile"
  },
  "deploy": {
    "startCommand": null,
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10,
    "healthcheckPath": "/api/status/head",
    "healthcheckPort": 8080,
    "healthcheckTimeout": 120,
    "healthcheckInterval": 30,
    "volumes": [
      {
        "mountPath": "/app/data",
        "name": "reposilite-data"
      }
    ]
  },
  "variables": {
    "REPOSILITE_INITIAL_ADMIN_USER": {
      "description": "Optional: The username for the initial Reposilite admin token (e.g., 'admin', 'root'). Both user and password must be set to create the token.",
      "default": "",
      "required": false
    },
    "REPOSILITE_INITIAL_ADMIN_PASSWORD": {
      "description": "Optional: A STRONG password for the initial Reposilite admin token. Both user and password must be set to create the token.",
      "default": "",
      "required": false
    },
    "REPOSILITE_OPTS": {
      "description": "Optional: Additional command-line arguments for Reposilite (e.g., '--title \"My Awesome Repo\"').",
      "default": "",
      "required": false
    }
  }
}
